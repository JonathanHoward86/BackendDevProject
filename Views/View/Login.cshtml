<!-- Login.cshtml -->
@{
    ViewData["Title"] = "Login";
}
<h2>@ViewData["Title"]</h2>
<form method="post" action="/api/Account/Login">
<div class="form-group">
        <label for="Email">Email</label>
        <input type="text" class="form-control" id="Email" name="Email" required>
    </div>
    <div class="form-group">
        <label for="Password">Password</label>
        <input type="password" class="form-control" id="Password" name="Password" required>
    </div>
    <button type="submit" class="btn btn-primary">Login</button>
    <div class="links">
        <a href="@Url.Action("ResetPasswordView", "View")">Reset Password?</a>
        <a href="@Url.Action("ForgotUsernameView", "View")">Forgot Username?</a>
        <a href="@Url.Action("Register", "View")">Register</a>
    </div>
</form>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function () {
        $('form').submit(function (e) {
            e.preventDefault();
            $.post("/api/Account/Login", $(this).serialize(), function (data) {
                if (data.Success) {
                    window.location.href = data.RedirectUrl;
                } else {
                    // Handle error here, e.g., show an error message.
                }
            });
        });
    });
</script>
